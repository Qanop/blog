{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/task-runner-that-resolves-missing-pipeline-events","result":{"data":{"markdownRemark":{"id":"0b33ab19-b971-5c7d-979c-3e3dc6884b46","html":"<p>When creating pipelines for releasing things to the environment, we may run into the problem of handling too few events. While searching the internet, I encountered an interesting task runner library. Upon closer acquaintance with the library, it will be possible to supplement the missing functions of pipelines offered in cloud solutions.</p>\n<h2 id=\"makefile-bash-or-something-different\" style=\"position:relative;\"><a href=\"#makefile-bash-or-something-different\" aria-label=\"makefile bash or something different permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Makefile, bash or something different?</h2>\n<p>Bash or Makefile files are most often used when building commands to improve the output. While this solution runs all scripts and allows for a large management of functions, it lacks error handling or API communication. <a href=\"https://pypyr.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pypyr</a> is a task runner for automation pipelines script as sequential task workflow steps in yaml. </p>\n<p>It has many functions, thanks to which we can properly automate the work of tasks. Most importantly, it has been quite successful at capturing and working on exceptions. Steps of activities can be combined, tasks described in detail, and also modified using environmental variables and data stored in the middle of the task. Additionally, as a basic functionality, we can also write logical conditions and even run python code. This solution gives a lot of possibilities for code actions. It is certainly easier to manage in already typical Python projects, where the work of publishing tasks does not have to be done by bash itself. While the first meeting on the website with the library may scare you off with its structure at the beginning, further delving into the topic shows that complex tasks can be much clearer for future activities in the project.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># This is an example showing the anatomy of a pypyr pipeline</span>\n<span class=\"token comment\"># A pipeline should be saved as {working dir}/mypipelinename.yaml.</span>\n<span class=\"token comment\"># Run the pipeline from {working dir} like this: pypyr mypipelinename</span>\n\n<span class=\"token comment\"># optional. set this to pass cli arguments to the pipeline.</span>\n<span class=\"token key atrule\">context_parser</span><span class=\"token punctuation\">:</span> my.custom.parser\n\n<span class=\"token comment\"># mandatory.</span>\n<span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># step-group. every pipeline starts with steps unless you tell pypyr differently.</span>\n  <span class=\"token punctuation\">-</span> my.package.my.module <span class=\"token comment\"># simple step pointing at a python module in a package</span>\n  <span class=\"token punctuation\">-</span> mymodule <span class=\"token comment\"># simple step pointing at a python file</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> pypyr.steps.default\n    <span class=\"token key atrule\">in</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">defaults</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">ifConinue</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">False</span> <span class=\"token comment\"># optional. Check if command have set on ifContinue variable, if not, set default.</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> my.package.another.module <span class=\"token comment\"># complex step. It contains a description and in parameters.</span>\n    <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> Optional description is for humans. It's any text that makes your life easier.\n    <span class=\"token key atrule\">in</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># optional. Set these key-value pairs in context for this step.</span>\n      <span class=\"token key atrule\">parameter1</span><span class=\"token punctuation\">:</span> value1\n      <span class=\"token key atrule\">parameter2</span><span class=\"token punctuation\">:</span> value2\n    <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>ifContinue<span class=\"token punctuation\">}</span> <span class=\"token comment\"># optional. Runs this step if True, skips step if False. Defaults True if not specified.</span>\n    <span class=\"token key atrule\">skip</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">False</span> <span class=\"token comment\"># optional. Skips this step if True, runs step if False. Defaults False if not specified.</span>\n    <span class=\"token key atrule\">swallow</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">False</span> <span class=\"token comment\"># optional. Swallows any errors raised by the step. Defaults False if not specified.</span>\n\n<span class=\"token comment\"># optional.</span>\n<span class=\"token key atrule\">on_success</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># step-group</span>\n  <span class=\"token punctuation\">-</span> my.first.success.step\n  <span class=\"token punctuation\">-</span> my.second.success.step\n\n<span class=\"token comment\"># optional.</span>\n<span class=\"token key atrule\">on_failure</span><span class=\"token punctuation\">:</span> <span class=\"token comment\"># step-group</span>\n  <span class=\"token punctuation\">-</span> my.failure.handler.step\n  <span class=\"token punctuation\">-</span> my.failure.handler.notifier</code></pre></div>\n<h2 id=\"summary\" style=\"position:relative;\"><a href=\"#summary\" aria-label=\"summary permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Summary</h2>\n<p>  The options provided by the pipeline configured in this way allow you to control the issue and with the appropriate status of a task or individual steps, we can even send an appropriate notification or withdraw changes from the server. <a href=\"https://pypyr.io/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pypyr</a> is a nice tool that can come in handy for more complex project steps and can become a good alternative to the Makefileâ€™s all-in-one tasks.</p>","fields":{"slug":"/posts/task-runner-that-resolves-missing-pipeline-events","tagSlugs":["/tag/technology/","/tag/dev/"]},"frontmatter":{"date":"2020-11-01T17:01:53.000Z","description":"When creating pipelines for releasing things to the environment, we may run into the problem of handling too few events. By searching the internet, we can find a quite interesting task runner library that will help us in missing pipelines events","tags":["Technology","Dev"],"title":"Task runner that resolves missing pipeline events","socialImage":"media/server-2.jpg"}}},"pageContext":{"slug":"/posts/task-runner-that-resolves-missing-pipeline-events"}},"staticQueryHashes":["1797451822","251939775","401334301"]}