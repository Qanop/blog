{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/format-the-code-automatically-before-commit","result":{"data":{"markdownRemark":{"id":"defb5ea5-fa0a-568f-9607-e37f708feba5","html":"<p>There is a situation where we forget to format our code to one standard before submitting changes. But what if git does it for us?</p>\n<p>There are a couple of solutions, like plugging directly into git hooks commands, or using a framework like <a href=\"https://pre-commit.com/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">https://pre-commit.com/</a> which will visually help us check out the project, and add code checking plugins for us.</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token comment\"># Format code with terraform &amp; terragrunt standard</span>\nterragrunt hclfmt\nterraform <span class=\"token function\">fmt</span> --recursive\n\n<span class=\"token comment\"># Add missing new-line in files</span>\n<span class=\"token function\">git</span> ls-files -z <span class=\"token operator\">|</span> <span class=\"token keyword\">while</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">IFS</span></span><span class=\"token operator\">=</span> <span class=\"token builtin class-name\">read</span> -rd <span class=\"token string\">''</span> f<span class=\"token punctuation\">;</span> <span class=\"token keyword\">do</span> <span class=\"token function\">tail</span> -c1 <span class=\"token operator\">&lt;</span> <span class=\"token string\">\"<span class=\"token variable\">$f</span>\"</span> <span class=\"token operator\">|</span> <span class=\"token builtin class-name\">read</span> -r _ <span class=\"token operator\">||</span> <span class=\"token builtin class-name\">echo</span> <span class=\"token operator\">>></span> <span class=\"token string\">\"<span class=\"token variable\">$f</span>\"</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">done</span></code></pre></div>\n<p>Itâ€™s especially useful when we need to run a lot of commands responsible for testing, linter code and checking integration</p>","fields":{"slug":"/posts/format-the-code-automatically-before-commit","tagSlugs":["/tag/technology/","/tag/ops-dev-ops/"]},"frontmatter":{"date":"2021-09-24T14:56:53.000Z","description":"There is a situation where we forget to format our code before submitting changes. But what if git does it for us?","tags":["Technology","Ops / DevOps"],"title":"Format the code automatically before commit","socialImage":"media/server-8.jpg"}}},"pageContext":{"slug":"/posts/format-the-code-automatically-before-commit"}},"staticQueryHashes":["1797451822","251939775","401334301"]}